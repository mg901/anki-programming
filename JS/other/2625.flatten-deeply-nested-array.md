## [2625 Flatten Deeply Nested Array](https://leetcode.com/problems/flatten-deeply-nested-array/description/?envType=study-plan-v2&envId=30-days-of-javascript)

<!-- notecardId: 1739803481508 -->

```js
function flat(arr, n) {
  if (n <= 0) return arr;

  const stack = arr.map((item) => [item, n]);
  const result = [];

  while (stack.length) {
    const [item, depth] = stack.pop();

    if (Array.isArray(item) && depth > 0) {
      stack.push(...item.map((subItem) => [subItem, depth - 1]));
    } else {
      result.push(item);
    }
  }

  return result.reverse();
}
```
