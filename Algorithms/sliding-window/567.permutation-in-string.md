## [567 Permutation in String](https://leetcode.com/problems/permutation-in-string/description/)

<!-- notecardId: 1765471235789 -->

```js
// Explanation:
// - Neetcode: https://youtu.be/gqXU1UyA8pk

// Sub-pattern: Fixed size window

// - Time: O(n)
// - Space: O(1)
function checkInclusion(s1, s2) {
  const n = s1.length;
  const m = s2.length;

  const ALPHABET_SIZE = 26;
  const codeA = 'a'.codePointAt(0);
  const countS1 = new Array(ALPHABET_SIZE);
  const countS2 = new Array(ALPHABET_SIZE);
  let matches = 0;

  for (let i = 0; i < n; i += 1) {
    countS1[s1.codePointAt(i) - codeA] += 1;
    countS2[s2.codePointAt(i) - codeA] += 1;
  }

  for (let i = 0; i < ALPHABET_SIZE; i += 1) {
    if (countS1[i] === countS2[i]) matches += 1;
  }

  for (let i = n; i < m; i += 1) {
    if (matches === ALPHABET_SIZE) return true;

    const rightIdx = s2.codePointAt(i) - codeA;

    if (countS1[rightIdx] === countS2[rightIdx]) matches -= 1;
    countS2[rightIdx] += 1;
    if (countS1[rightIdx] === countS2[rightIdx]) matches += 1;

    const leftIdx = s2.codePointAt(i - n) - codeA;

    if (countS1[leftIdx] === countS2[leftIdx]) matches -= 1;
    countS2[leftIdx] -= 1;
    if (countS1[leftIdx] === countS2[leftIdx]) matches += 1;
  }

  return matches === ALPHABET_SIZE;
}
```
