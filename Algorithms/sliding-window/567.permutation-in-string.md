## [567 Permutation in String](https://leetcode.com/problems/permutation-in-string/description/)

<!-- notecardId: 1759853986681 -->

```js
// Explanation:
// - Neetcode: https://youtu.be/gqXU1UyA8pk

// - Time: O(n)
// - Space: O(1)
function checkInclusion(s1, s2) {
  if (s1.length > s2.length) return false;

  const ALPHABET_SIZE = 26;
  const codePointA = 'a'.codePointAt(0);
  const s1Freq = new Int32Array(ALPHABET_SIZE);
  const s2Freq = new Int32Array(ALPHABET_SIZE);

  let matches = 0;
  const windowSize = s1.length;

  for (let i = 0; i < windowSize; i += 1) {
    s1Freq[s1.codePointAt(i) - codePointA] += 1;
    s2Freq[s2.codePointAt(i) - codePointA] += 1;
  }

  for (let i = 0; i < ALPHABET_SIZE; i += 1) {
    if (s1Freq[i] === s2Freq[i]) matches += 1;
  }

  for (let i = windowSize; i < s2.length; i += 1) {
    if (matches === ALPHABET_SIZE) return true;

    const rightIndex = s2.codePointAt(i) - codePointA;
    const leftIndex = s2.codePointAt(i - windowSize) - codePointA;

    if (s1Freq[rightIndex] === s2Freq[rightIndex]) matches -= 1;
    s2Freq[rightIndex] += 1;
    if (s1Freq[rightIndex] === s2Freq[rightIndex]) matches += 1;

    if (s1Freq[leftIndex] === s2Freq[leftIndex]) matches -= 1;
    s2Freq[leftIndex] -= 1;
    if (s1Freq[leftIndex] === s2Freq[leftIndex]) matches += 1;
  }

  return matches === ALPHABET_SIZE;
}
```
