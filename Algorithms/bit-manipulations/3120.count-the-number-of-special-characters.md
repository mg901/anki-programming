## [3120 Count the Number of Special Characters 'bit-mask'](https://leetcode.com/problems/count-the-number-of-special-characters-i/description/)

<!-- notecardId: 1767462046530 -->

```js
// Algorithm: Brian Kernighan

// - Time: O(n)
// - Space: O(1)
function numberOfSpecialChars(word) {
  const ALPHABET_SIZE = 26;
  const a = 'a'.codePointAt(0);
  const A = 'A'.codePointAt(0);

  let upperMask = 0;
  let lowerMask = 0;

  for (const char of word) {
    const code = char.codePointAt(0);

    if (code >= a && code < a + ALPHABET_SIZE) {
      lowerMask |= 1 << (code - a);
    }

    if (code >= A && code < A + ALPHABET_SIZE) {
      upperMask |= 1 << (code - A);
    }
  }

  let common = lowerMask & upperMask;
  let count = 0;

  while (common !== 0) {
    common &= common - 1; // Brian Kernighan's Algorithm
    count += 1;
  }

  return count;
}
```
