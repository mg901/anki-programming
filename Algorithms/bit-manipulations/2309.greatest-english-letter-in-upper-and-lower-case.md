## [2309 Greatest English Letter in Upper and Lower Case 'bit-mask'](https://leetcode.com/problems/greatest-english-letter-in-upper-and-lower-case/description/)

<!-- notecardId: 1767462051127 -->

```js
// - Time: O(n)
// - Space: O(1)
function greatestLetter(s) {
  const a = 'a'.codePointAt(0);
  const z = 'z'.codePointAt(0);
  const A = 'A'.codePointAt(0);
  const Z = 'Z'.codePointAt(0);

  let lowerMask = 0;
  let upperMask = 0;

  for (const char of s) {
    const code = char.codePointAt(0);

    if (code >= a && code <= z) {
      lowerMask |= 1 << (code - a);
    }

    if (code >= A && code <= Z) {
      upperMask |= 1 << (code - A);
    }
  }

  const common = upperMask & lowerMask;
  if (common === 0) return '';

  for (let code = Z; code >= A; code -= 1) {
    const bit = code - A;
    const index = 1 << bit;

    if ((common & index) !== 0) {
      return String.fromCodePoint(code);
    }
  }
}
```

## [2309 Greatest English Letter in Upper and Lower Case 'Math.clz32'](https://leetcode.com/problems/greatest-english-letter-in-upper-and-lower-case/description/)

<!-- notecardId: 1767462538465 -->

```js
// - Time: O(n)
// - Space: O(1)
function greatestLetter(s) {
  const a = 'a'.codePointAt(0);
  const z = 'z'.codePointAt(0);
  const A = 'A'.codePointAt(0);
  const Z = 'Z'.codePointAt(0);

  let lowerMask = 0;
  let upperMask = 0;

  for (const char of s) {
    const code = char.codePointAt(0);

    if (code >= a && code <= z) {
      lowerMask |= 1 << (code - a);
    }

    if (code >= A && code <= Z) {
      upperMask |= 1 << (code - A);
    }
  }

  const common = upperMask & lowerMask;
  if (common === 0) return '';

  const INT_BITS = 32;
  const MSB_INDEX = INT_BITS - 1;
  const bestIndex = MSB_INDEX - Math.clz32(common);

  return String.fromCodePoint(A + bestIndex);
}
```
