## [222 Count Complete Tree Nodes](https://leetcode.com/problems/count-complete-tree-nodes/description/)

<!-- notecardId: 1766920609285 -->

```js
// Explanation:
// - Techdose: https://youtu.be/CvrPf1-flAA

// - Time: O(log(n)^2)
// - Space: O(h)
function countNodes(root) {
  if (!root) return 0;

  const leftDepth = calcDepth(root.left);
  const rightDepth = calcDepth(root.right);

  if (leftDepth === rightDepth) {
    // Left subtree is full
    return 2 ** leftDepth + countNodes(root.right);
  }

  // Right subtree is full
  return 2 ** rightDepth + countNodes(root.left);
}

function calcDepth(node) {
  if (!node) return 0;

  let depth = 0;

  while (node) {
    depth += 1;
    node = node.left;
  }

  return depth;
}
```
