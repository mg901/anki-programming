## [215 Kth Largest Element in an Array 'Quick Select'](https://leetcode.com/problems/kth-largest-element-in-an-array/description/)

<!-- notecardId: 1769007442284 -->

```js
// Explanation:
// - Truly Understanding Algorithms: https://youtu.be/ZAXSFph_L-A

// Problem:
// - Neetcode: https://youtu.be/XEmy13g1Qxc

// - Time:
//    Best: O(n)
//    Average: O(n)
//    Worst: O(n^2)

// - Space: O(1)
function findKthLargest(nums, k) {
  return quickSelect(nums, nums.length - k);
}

function quickSelect(arr, kSmallest, left = 0, right = arr.length - 1) {
  while (true) {
    if (left === right) {
      return arr[left];
    }

    const boundary = hoarePartition(arr, left, right);

    if (kSmallest <= boundary) {
      right = boundary;
    } else {
      left = boundary + 1;
    }
  }
}

function hoarePartition(arr, left, right) {
  const randomIdx = randomInt(left, right);
  const pivot = arr[randomIdx];

  let i = left - 1;
  let j = right + 1;

  while (true) {
    do i += 1;
    while (arr[i] < pivot);

    do j -= 1;
    while (arr[j] > pivot);

    if (i >= j) return j;

    swap(arr, i, j);
  }
}

function randomInt(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

function swap(arr, i, j) {
  if (i === j) return;

  const temp = arr[j];
  arr[j] = arr[i];
  arr[i] = temp;
}
```
