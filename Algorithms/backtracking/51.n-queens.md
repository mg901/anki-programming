## [51 N-Queens](https://leetcode.com/problems/n-queens/description/)

<!-- notecardId: 1758051776977 -->

```js
// Explanation:
// - Neetcode: https://youtu.be/Ph95IHmRp5M

// Complexity:
// - Time: O(n * n!)
// - Space: O(n * k)
//   where:
//    k = the number of valid solutions
function solveNQueens(n) {
  const cols = new Set();
  const posDiagonal = new Set();
  const negDiagonal = new Set();
  const result = [];
  backtrack(0, []);

  return result;

  function backtrack(row, path) {
    if (row === n) {
      result.push(buildBoard(path));

      return;
    }

    for (let col = 0; col < n; col += 1) {
      if (
        cols.has(col) ||
        posDiagonal.has(row + col) ||
        negDiagonal.has(row - col)
      ) {
        continue;
      }

      path.push(col);
      cols.add(col);
      posDiagonal.add(row + col);
      negDiagonal.add(row - col);

      backtrack(row + 1, path);

      path.pop();
      cols.delete(col);
      posDiagonal.delete(row + col);
      negDiagonal.delete(row - col);
    }
  }

  function buildBoard(path) {
    return path.map((col) => '.'.repeat(col) + 'Q' + '.'.repeat(n - col - 1));
  }
}
```
