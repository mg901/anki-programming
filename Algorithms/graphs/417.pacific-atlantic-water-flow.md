## [417 Pacific Atlantic Water Flow](https://leetcode.com/problems/pacific-atlantic-water-flow/description/)

<!-- notecardId: 1756815002828 -->

```js
// Explanation:
// - Neetcode: https://youtu.be/s-VkcjHqkGI

// Complexity:
// - Time: O(rows * cols)
// - Space: O(rows * cols)
function pacificAtlantic(heights) {
  const rows = heights.length;
  const cols = heights[0].length;
  const pacific = Array.from({ length: rows }, () => new Uint8Array(cols));
  const atlantic = Array.from({ length: rows }, () => new Uint8Array(cols));

  for (let r = 0; r < rows; r += 1) {
    dfs(r, 0, pacific, heights[r][0]);
    dfs(r, cols - 1, atlantic, heights[r][cols - 1]);
  }

  for (let c = 0; c < cols; c += 1) {
    dfs(0, c, pacific, heights[0][c]);
    dfs(rows - 1, c, atlantic, heights[rows - 1][c]);
  }

  const result = [];

  for (let r = 0; r < rows; r += 1) {
    for (let c = 0; c < cols; c += 1) {
      if (pacific[r][c] && atlantic[r][c]) {
        result.push([r, c]);
      }
    }
  }

  return result;

  function dfs(row, col, visited, prev) {
    if (
      row < 0 ||
      col < 0 ||
      row === rows ||
      col === cols ||
      visited[row][col] ||
      heights[row][col] < prev
    ) {
      return;
    }

    visited[row][col] = 1;
    const current = heights[row][col];

    dfs(row - 1, col, visited, current);
    dfs(row, col + 1, visited, current);
    dfs(row + 1, col, visited, current);
    dfs(row, col - 1, visited, current);
  }
}
```
