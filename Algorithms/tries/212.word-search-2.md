## [212 Word Search II](https://leetcode.com/problems/word-search-ii/description/)

<!-- notecardId: 1766100171564 -->

```js
// Explanation:
// - Neetcode: https://youtu.be/asbcE9mZz_U

class TrieNode {
  children = new Map();

  word = null;

  hasChild(key) {
    return this.children.has(key);
  }

  getChild(key) {
    return this.children.get(key);
  }

  ensureChild(key) {
    let child = this.children.get(key);

    if (!child) {
      child = new TrieNode();
      this.children.set(key, child);
    }

    return child;
  }
}

class Trie {
  root = new TrieNode();

  insert(word) {
    let node = this.root;

    for (const char of word) {
      node = node.ensureChild(char);
    }

    node.word = word;
  }
}

/**
 * @param {character[][]} board
 * @param {string[]} words
 * @return {string[]}
 */
var findWords = function (board, words) {
  const trie = new Trie();

  for (const word of words) {
    trie.insert(word);
  }

  const rows = board.length;
  const cols = board[0].length;
  const result = [];

  for (let r = 0; r < rows; r += 1) {
    for (let c = 0; c < cols; c += 1) {
      backtrack(r, c, trie.root);
    }
  }

  return result;

  function backtrack(row, col, node) {
    if (
      row < 0 ||
      col < 0 ||
      row === rows ||
      col === cols ||
      board[row][col] === '#'
    ) {
      return;
    }

    const char = board[row][col];

    const child = node.getChild(char);
    if (!child) return;

    board[row][col] = '#';

    if (child.word) {
      result.push(child.word);
      child.word = null;
    }

    backtrack(row - 1, col, child);
    backtrack(row, col + 1, child);
    backtrack(row + 1, col, child);
    backtrack(row, col - 1, child);

    board[row][col] = char;
  }
};
```
