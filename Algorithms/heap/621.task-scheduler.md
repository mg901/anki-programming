## [621 Task Scheduler](https://leetcode.com/problems/task-scheduler/description/)

<!-- notecardId: 1767899045107 -->

```js
// Explanation:
// - Neetcode: https://youtu.be/s8p8ukTyA2I

// - Time: O(n log(u))
//    where:
//      n = tasks.length
//      u = unique elements (26 English letters)

// - Space: O(1)
function leastInterval(tasks, n) {
  const counter = new Map();

  for (const task of tasks) {
    counter.set(task, (counter.get(task) ?? 0) + 1);
  }

  const queue = new Queue();
  const maxHeap = new MaxHeap(null, counter.values().toArray());

  let interval = 0;

  while (!maxHeap.isEmpty() || !queue.isEmpty()) {
    interval += 1;

    if (!maxHeap.isEmpty()) {
      const remaining = maxHeap.pop() - 1;

      if (remaining > 0) {
        queue.push({
          count: remaining,
          readyAt: interval + n,
        });
      }
    }

    if (queue?.front()?.readyAt === interval) {
      maxHeap.push(queue.pop().count);
    }
  }

  return interval;
}
```
