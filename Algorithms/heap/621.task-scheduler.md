## [621 Task Scheduler](https://leetcode.com/problems/task-scheduler/description/)

<!-- notecardId: 1767124001884 -->

```js
// Explanation:
// - Neetcode: https://youtu.be/s8p8ukTyA2I

// - Time: O(n log(u))
//    where:
//      n = tasks.length
//      u = unique elements (26 English letters)

// - Space: O(1)
function leastInterval(tasks, n) {
  const counter = new Map();
  const maxpq = new MaxPriorityQueue();

  for (const task of tasks) {
    counter.set(task, (counter.get(task) ?? 0) + 1);
  }

  for (const count of counter.values()) {
    maxpq.enqueue(count);
  }

  let time = 0;
  const queue = new Queue();

  while (!maxpq.isEmpty() || !queue.isEmpty()) {
    time += 1;

    if (!maxpq.isEmpty()) {
      const remaining = maxpq.dequeue() - 1;

      if (remaining > 0) {
        queue.enqueue({
          count: remaining,
          readyAt: time + n,
        });
      }
    }

    if (!queue.isEmpty() && queue.front().readyAt === time) {
      maxpq.enqueue(queue.dequeue().count);
    }
  }

  return time;
}
```
