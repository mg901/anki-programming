## [138 Copy List with Random Pointer](https://leetcode.com/problems/copy-list-with-random-pointer/description/)

<!-- notecardId: 1741876939735 -->

```js
function copyRandomList(head) {
  if (!head) return head;

  const map = new Map();
  let current = head;

  while (current) {
    map.set(current, new Node(current.val));
    current = current.next;
  }

  current = head;

  while (current) {
    const node = map.get(current);
    node.next = map.get(current.next) ?? null;
    node.random = map.get(current.random) ?? null;

    current = current.next;
  }

  return map.get(head);
}
```
