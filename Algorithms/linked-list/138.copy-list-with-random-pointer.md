## [138 Copy List with Random Pointer 'imperative'](https://leetcode.com/problems/copy-list-with-random-pointer/description/)

<!-- notecardId: 1760182965635 -->

```js
// Explanation:
// - Neetcode: https://youtu.be/5Y2EiZST97Y

// - Time: O(n)
// - Space: (n)
function copyRandomList(head) {
  if (!head) return head;

  const nodeToClone = new Map();
  let current = head;

  while (current) {
    nodeToClone.set(current, new Node(current.val));
    current = current.next;
  }

  current = head;

  while (current) {
    const clone = nodeToClone.get(current);
    clone.next = nodeToClone.get(current.next) ?? null;
    clone.random = nodeToClone.get(current.random) ?? null;

    current = current.next;
  }

  return nodeToClone.get(head);
}
```

## [138 Copy List with Random Pointer 'recursive'](https://leetcode.com/problems/copy-list-with-random-pointer/description/)

<!-- notecardId: 1760182965638 -->

```js
// Explanation:
// - Neetcode: https://youtu.be/5Y2EiZST97Y

// - Time: O(n)
// - Space: (n)
function copyRandomList(head) {
  if (!head) return head;

  const nodeToClone = new Map();
  return dfs(head);

  function dfs(node) {
    if (!node) return null;

    if (nodeToClone.has(node)) {
      return nodeToClone.get(node);
    }

    const clone = new Node(node.val);
    nodeToClone.set(node, clone);

    clone.next = dfs(node.next);
    clone.random = dfs(node.random);

    return clone;
  }
}
```
