## [518 Coin Change II](https://leetcode.com/problems/coin-change-ii/description/)

<!-- notecardId: 1754649686875 -->

```js
// Explanation:
// - Neetcode: https://youtu.be/Mjy4hd2xgrs
// - Back to Back SWE: https://youtu.be/DJ4a7cmjZY0?si=Oyf34yfXTaz9fDwh

// Sub-pattern:
// - Unbounded Knapsack

// Top-down
//
// Without memo:
// - Time: O(2^n * amount)
// - Space: O(amount + n)
//
// With memo:
// - Time: O(n * amount)
// - Space: O(n * amount)
function change(amount, coins) {
  const memo = new Map();

  return dfs(0, 0);

  function dfs(i, total) {
    const key = `${i},${total}`;
    if (map.has(key)) return map.get(key);

    if (total === amount) return 1;
    if (total > amount || i === coins.length) return 0;

    const result = dfs(i, total + coins[i]) + dfs(i + 1, total);
    memo.set(key, result);

    return result;
  }
}

// Bottom-up
// - Time: O(n * amount)
// - Space: O(n * amount)
function change(amount, coins) {
  const n = coins.length;
  const dp = Array.from({ length: n + 1 }, () => new Uint32Array(amount + 1));

  for (let i = 0; i <= n; i += 1) {
    dp[i][0] = 1;
  }

  for (let i = 1; i <= n; i += 1) {
    for (let j = 0; j <= amount; j += 1) {
      dp[i][j] = dp[i - 1][j];

      const coin = coins[i - 1];

      if (j >= coin) {
        dp[i][j] += dp[i][j - coin];
      }
    }
  }

  return dp[n][amount];
}

// Space Optimized
// - Time: O(n * amount)
// - Space: O(amount)
function change(amount, coins) {
  const dp = new Uint32Array(amount + 1);
  dp[0] = 1;

  for (const coin of coins) {
    for (let i = coin; i <= amount; i += 1) {
      dp[i] += dp[i - coin];
    }
  }

  return dp[amount];
}
```
