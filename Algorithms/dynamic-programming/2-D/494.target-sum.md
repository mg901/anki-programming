## [494 Target Sum](https://leetcode.com/problems/target-sum/description/)

<!-- notecardId: 1753183452282 -->

```js
function findTargetSumWays(nums, target) {
  const total = nums.reduce((a, b) => a + b, 0);

  if (Math.abs(target) > total) return 0;

  const offset = total;
  const n = nums.length;

  const dp = Array.from({ length: n + 1 }, () =>
    new Array(2 * total + 1).fill(0),
  );

  dp[0][offset] = 1;

  for (let i = 1; i <= n; i += 1) {
    for (let sum = -total; sum <= total; sum += 1) {
      const count = dp[i - 1][sum + offset];

      if (count === 0) continue;

      dp[i][sum + nums[i - 1] + offset] += count;
      dp[i][sum - nums[i - 1] + offset] += count;
    }
  }

  return dp[n][target + offset];
}

// One row ---------------------
function findTargetSumWays(nums, target) {
  const total = nums.reduce((a, b) => a + b, 0);

  if (Math.abs(target) > total) return 0;

  const offset = total;
  const dp = new Array(2 * total + 1).fill(0);
  dp[offset] = 1;

  for (const num of nums) {
    const nextDp = new Array(2 * total + 1).fill(0);

    for (let sum = -total; sum <= total; sum += 1) {
      const count = dp[sum + offset];

      if (count === 0) continue;

      nextDp[sum + num + offset] += count;
      nextDp[sum - num + offset] += count;
    }

    for (let i = 0; i < nextDp.length; i += 1) {
      dp[i] = nextDp[i];
    }
  }

  return dp[target + offset];
}

// Space Optimized ------
function findTargetSumWays(nums, target) {
  const dp = new Map();
  dp.set(0, 1);

  for (const num of nums) {
    const next = new Map();

    for (const [sum, count] of dp.entries()) {
      next.set(sum + num, (next.get(sum + num) ?? 0) + count);
      next.set(sum - num, (next.get(sum - num) ?? 0) + count);
    }

    dp = next;
  }

  return dp.get(target) ?? 0;
}
```
