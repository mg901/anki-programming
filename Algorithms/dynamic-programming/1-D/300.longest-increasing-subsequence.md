## [300 Longest Increasing Subsequence](https://leetcode.com/problems/longest-increasing-subsequence/description/)

<!-- notecardId: 1753967167429 -->

```js
// Sub-pattern:
// Problem Type: Longest Increasing Subsequence (LIS)

// Top-down
// - Time: O(n^2) or O(2^n) without memo
// - Space: O(n)
function lengthOfLIS(nums) {
  const n = nums.length;
  const cache = new Map();

  return dfs(-1, 0);

  function dfs(prev, current) {
    const key = `${current}${prev}`;

    if (cache.has(key)) return cache.get(key);
    let maxLength = 0;

    for (let i = current; i < n; i += 1) {
      if (prev === -1 || nums[prev] < nums[i]) {
        maxLength = Math.max(maxLength, 1 + dfs(i, i + 1));
      }
    }

    cache.set(key, maxLength);

    return maxLength;
  }
}

// Bottom-up
// - Time: O(n^2)
// - Space: O(n)
function lengthOfLIS(nums) {
  const n = nums.length;
  const dp = new Array(n).fill(1);

  for (let i = 1; i < n; i += 1) {
    for (let j = 0; j < i; j += 1) {
      if (nums[j] < nums[i]) {
        dp[i] = Math.max(dp[i], 1 + dp[j]);
      }
    }
  }

  return Math.max(...dp);
}
```
