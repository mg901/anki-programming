## [300 Longest Increasing Subsequence](https://leetcode.com/problems/longest-increasing-subsequence/description/)

<!-- notecardId: 1753370024720 -->

```js
// Sub-pattern: Longest Common Subsequence
// Top-down
function lengthOfLIS(nums) {
  const n = nums.length;
  const cache = new Map();

  function dfs(current, prev) {
    const key = `${current}${prev}`;

    if (cache.has(key)) return cache.get(key);
    let maxLength = 0;

    for (let i = current; i < n; i += 1) {
      if (prev === -1 || nums[i] > nums[prev]) {
        maxLength = Math.max(maxLength, 1 + dfs(i + 1, i));
      }
    }

    cache.set(key, maxLength);

    return maxLength;
  }

  return dfs(0, -1);
}

// Bottom-up
function lengthOfLIS(nums) {
  const n = nums.length;
  const dp = new Array(n).fill(1);

  for (let i = n - 1; i >= 0; i -= 1) {
    for (let j = i; j < n; j += 1) {
      if (nums[i] < nums[j]) {
        dp[i] = Math.max(dp[i], 1 + dp[j]);
      }
    }
  }

  return Math.max(...dp);
}
```
