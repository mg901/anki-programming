## [139 Word Break](https://leetcode.com/problems/word-break/description/)

<!-- notecardId: 1753701563787 -->

```js
// Sub-pattern: Partition
// Top-down
function wordBreak(str, wordDict) {
  const n = str.length;
  const cache = new Array(n);

  return dfs(0);

  function dfs(index) {
    if (index === n) return true;
    if (cache[index] !== undefined) return cache[index];

    for (const word of wordDict) {
      if (str.startsWith(word, index) && dfs(index + word.length)) {
        cache[index] = true;

        return true;
      }
    }

    cache[index] = false;

    return false;
  }
}

// Bottom-up
function wordBreak(s, wordDict) {
  const n = s.length;
  if (n === 0) return true;

  const dp = new Array(n + 1).fill(false);
  dp[0] = true;

  for (let i = 1; i <= n; i += 1) {
    for (const word of wordDict) {
      const start = i - word.length;

      if (start < 0) continue;
      if (dp[start] === false) continue;
      if (s.slice(start, i) !== word) continue;

      dp[i] = true;
      break;
    }
  }

  return dp[n];
}
```
